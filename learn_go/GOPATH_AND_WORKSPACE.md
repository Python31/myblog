# 工作区和GOPATH

[Go 语言规范文档](https://golang.google.cn/ref/spec)

- GOROOT：Go 语言安装根目录的路径，也就是 GO 语言的安装路径
- GOPATH：若干工作区目录的路径。是我们自己定义的工作空间。
- GOBIN：GO 程序生成的可执行文件（executable file）的路径。

## Go 语言的源码的组织方式

GOPATH（可以有多个工作区） -> 某个特定的工作区  -> src目录 -> 源代码目录


## 源码安装后的结果

执行go install xxx，会把编译后的文件放在pkg/bin下面，静态链接库（.a）文件放在pkg下面，可执行文件放在bin下面。


静态链接库（.a）和pkg目录之间，还有一级目录，叫平台相关目录。形如：构建的操作系统_目标操作系统(linux_amd64)

![](https://static001.geekbang.org/resource/image/2f/3c/2fdfb5620e072d864907870e61ae5f3c.png)

## 理解构建和安装GO程序的过程

- go build : 编译出可执行文件
- go install : go build + 把编译后的可执行文件放到GOPATH/bin目录下
- go get : git clone + go install

### 构建

- 构建库源码文件：操作的结果文件只会存在于临时目录中。这里的构建的主要意义在于检查和验证。 
- 构建命令源码文件： 操作的结果文件会被搬运到源码文件所在的目录中

### 安装

安装操作会先执行构建，然后还会进行链接操作，并且把结果文件搬运到指定目录

- 安装库源码文件： 结果文件会被搬运到它所在工作区的 pkg 目录下的某个子目录中。
- 安装命令源码文件： 结果文件会被搬运到它所在工作区的 bin 目录中，或者环境变量GOBIN指向的目录中

## 思考题

### Go 语言在多个工作区中查找依赖包的时候是以怎样的顺序进行的？

GOROOT -> 按照GOPATH的顺序去查找

### 如果在多个工作区中都存在导入路径相同的代码包会产生冲突吗？

不会，人家找到之后就不找了



